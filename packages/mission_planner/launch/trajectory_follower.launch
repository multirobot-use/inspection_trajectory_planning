<launch>
    <arg name="ns_prefix" default="drone_"/>
    <arg name="robot_model" default="iris"/>
    <arg name="pub_rate" default="30.0"/>
    <arg name="debug" default="false"/>
    <arg name="save_test_data" default="false"/>
    <arg name="save_experiment_data" default="false"/>
    <arg name="trajectory" default="true"/>
    <arg name="reach_tolerance" default="1.0"/>
    <arg name="pkg_name" default="upat_follower"/>
    <arg name="use_class" default="false"/>
    <arg name="multi" default="true"/>
    <arg name="look_ahead" default="1.0"/>
    <arg name="generator_mode" default = "0"/>

    <node pkg="upat_follower" type="follower_node" name="follower" output="screen" required="true" unless="$(arg use_class)" ns="$(arg ns_prefix)1/upat_follower">
        <param name="uav_id" value="1"/>
        <param name="ns_prefix" value="$(arg ns_prefix)"/>
        <param name="debug" value="$(arg debug)"/>
        <param name="pub_rate" value="$(arg pub_rate)"/>
    </node>
    <node pkg="upat_follower" type="visualization_node" name="visualization" required="true" output="screen">
        <param name="uav_id" value="1"/>
        <param name="ns_prefix" value="$(arg ns_prefix)"/>
        <param name="robot_model" value="$(arg robot_model)"/>
        <param name="pub_rate" value="$(arg pub_rate)"/>
        <param name="save_experiment_data" value="$(arg save_experiment_data)"/>
        <param name="trajectory" value="$(arg trajectory)"/>
        <param name="generator_mode" value="$(arg generator_mode)"/>
    </node>

    <!-- Add one more UAV and nodes to manage it
    <group if="$(arg multi)" ns="$(arg ns_prefix)2">
        <group ns="upat_follower">
            <node pkg="upat_follower" type="follower_node" name="follower" required="true" unless="$(arg use_class)">
                <param name="uav_id" value="2"/>
                <param name="ns_prefix" value="$(arg ns_prefix)"/>
                <param name="pub_rate" value="$(arg pub_rate)"/>
            </node>
            <node pkg="upat_follower" type="visualization_node" name="visualization" required="true">
                <param name="uav_id" value="2"/>
                <param name="ns_prefix" value="$(arg ns_prefix)"/>
                <param name="pub_rate" value="$(arg pub_rate)"/>
                <param name="robot_model" value="$(arg robot_model)"/>
            </node>
        </group>
    </group> -->

</launch>